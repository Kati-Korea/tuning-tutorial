<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>튜닝 가이드 스플래시</title>
  <meta name="theme-color" content="#0c6efd">
  <link rel="manifest" href="json/manifest.json">
  <style>
    :root {
      --bg: #ffffff;
      --text: #222;
      --muted: #666;
      --primary: #0c6efd;
      --accent: #f0f4ff;
      --card: #fafafa;
      --border: #e5e7eb;
      --caption-bg: #f8fafc;
      --caption-text: #6b7280;
      --toast-bg: #111827;
      --toast-text: #f9fafb;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Noto Sans KR", Arial, "Apple SD Gothic Neo", "Malgun Gothic", "맑은 고딕", sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.65;
      display: grid;
      place-items: center;
    }
    a { color: var(--primary); text-decoration: none; }
    a:hover { text-decoration: underline; }

    .wrap { max-width: 1040px; margin: 0 auto; padding: 16px; width: 100%; }
    @media (min-width: 768px) { .wrap { padding: 24px; } }

    /* 파트너 영역 */
    .partner-inner {
      max-width: 1040px;
      margin: 0 auto;
      padding: 10px 12px;
      display: flex;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
      text-align: center;
    }
    .partner { display: flex; align-items: center; gap: 6px; text-decoration: none; color: inherit; }
    .partner img { height: 24px; width: auto; object-fit: contain; display: block; }
    .partner .text-box { align-items: center; display: flex; flex-direction: column; justify-content: center; min-height: 24px; }
    .partner .name { font-size: 12px; line-height: 1.35; font-weight: 600; color: var(--text); margin: 0; }
    .partner .url { font-size: 11px; line-height: 1.3; color: var(--muted); margin: 0; }
    @media (min-width: 768px) {
      .partner img { height: 28px; }
      .partner .name { font-size: 13px; }
    }

    /* 중앙 대형 문구 */
    .big-headline-wrap {
      display: flex; flex-direction: column; align-items: center; gap: 8px;
      text-align: center; margin: 8px 0 14px;
    }
    .big-headline {
      margin: 0;
      font-weight: 800;
      letter-spacing: -0.4px;
      line-height: 1.2;
      font-size: clamp(24px, 6vw, 40px);
    }
    .big-sub {
      margin: 0;
      color: var(--muted);
      font-weight: 600;
      font-size: clamp(13px, 3.2vw, 16px);
    }

    /* 스플래시 히어로 */
    .center { display: flex; flex-direction: column; align-items: center; gap: 14px; text-align: center; padding: 16px; }
    .hero{
      width: min(92vw, 640px); height: min(52vh, 360px);
      background: url('https://images.unsplash.com/photo-1542362567-b07e54358753?q=80&w=1600&auto=format&fit=crop') center/cover no-repeat;
      border-radius: 16px; border: 1px solid var(--border);
      box-shadow: 0 10px 24px rgba(0,0,0,.08); cursor: pointer; position: relative; overflow: hidden;
    }
    .hero::after{
      content: "이미지 탭하여 시작하기";
      position:absolute; left:0; right:0; bottom:0;
      padding: 10px 12px;
      background: linear-gradient(180deg, rgba(0,0,0,0) 0%, rgba(0,0,0,.25) 100%);
      font-weight: 700; color: #f9fafb; font-size: 13px;
    }
    @media (min-width: 768px) {
      .center { gap: 16px; padding: 24px; }
      .hero { width: min(80vw, 640px); height: min(60vh, 360px); }
      .hero::after { font-size: 14px; padding: 12px 16px; }
    }

    /* 진행 바: 자동이동 제거, 클릭 시 애니메이션 */
    .progress{ width: min(92vw, 420px); height: 8px; border-radius: 999px; background: #f3f4f6; overflow: hidden; border: 1px solid var(--border) }
    .bar{ height: 100%; width: 0; background: linear-gradient(90deg,#60a5fa,#22d3ee); transition: width .6s ease }

    /* 선택적 별도 버튼(주석 해제 시 사용)
    .go-btn{ margin-top:6px; padding:10px 14px; border-radius:10px; border:1px solid var(--border); background:#fff; font-weight:700; cursor:pointer }
    .go-btn:hover{ box-shadow:0 4px 12px rgba(0,0,0,.08); transform: translateY(-1px) }
    */

    /* 토스트 */
    .toast {
      position: fixed; left: 50%; bottom: 20px; transform: translateX(-50%) translateY(20px);
      min-width: 240px; max-width: 92vw; padding: 10px 14px;
      background: var(--toast-bg); color: var(--toast-text); border-radius: 10px;
      box-shadow: 0 10px 24px rgba(0,0,0,.18); opacity: 0; pointer-events: none;
      transition: opacity .2s ease, transform .2s ease; z-index: 1000; font-size: 13px;
    }
    .toast.show { opacity: 1; transform: translateX(-50%) translateY(0); }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="big-headline-wrap" aria-label="페이지 소개">
        <h1 class="big-headline">초보자 가이드 + 지면광고 가능</h1>
        <p class="big-sub">튜닝 입문자를 위한 안내와 오프라인 광고 지면 연계</p>
      </div>

      <div class="partner-inner">
        <a class="partner" href="http://www.katiagroup.or.kr/" target="_blank" rel="noopener" aria-label="KATIA">
          <img src="http://www.katiagroup.or.kr/images/header/logo_new.png" alt="KATIA 로고">
          <div class="text-box">
            <div class="name">Korea Auto Tuning Industry Association</div>
            <div class="url">www.katiagroup.or.kr</div>
          </div>
        </a>
        <a class="partner" href="http://www.kal.ac.kr" target="_blank" rel="noopener" aria-label="KAL">
          <img src="https://www.kal.ac.kr/Files/202210/stie/20221031105706062_1_0.png" alt="KAL 로고">
          <div class="text-box">
            <div class="name">KAL</div>
            <div class="url">www.kal.ac.kr</div>
          </div>
        </a>
      </div>

      <div class="hint" id="installHint" aria-live="polite"></div>
    </header>

    <div class="center">
      <div class="hero" id="hero" aria-label="메뉴로 이동"></div>
      <div class="progress"><div class="bar" id="bar"></div></div>
      <!-- 필요 시 별도 버튼
      <button class="go-btn" id="goBtn" type="button" aria-label="시작하기">시작하기</button>
      -->
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    const hero = document.getElementById('hero');
    const bar = document.getElementById('bar');

    function goNext(){
      // 클릭 시 진행바를 채우고 이동
      bar.style.width = '100%';
      setTimeout(()=> { window.location.href = 'https://kati-korea.github.io/tuning-tutorial/menu00.html'; }, 650);
    }

    hero.addEventListener('click', goNext);

    // 선택적 별도 버튼 사용 시
    const goBtn = document.getElementById('goBtn');
    if (goBtn) goBtn.addEventListener('click', goNext);

    // 토스트 유틸
    const toast = document.getElementById('toast');
    function showToast(msg, ms = 2800){
      toast.textContent = msg;
      toast.classList.add('show');
      clearTimeout(showToast._t);
      showToast._t = setTimeout(()=> toast.classList.remove('show'), ms);
    }

    // PWA 설치 힌트
    const installHint = document.getElementById('installHint');
    function setInstallHintByEnv() {
      if (!installHint) return;
      const ua = navigator.userAgent.toLowerCase();
      const isIOS = /iphone|ipad|ipod/.test(ua);
      const isAndroid = /android/.test(ua);
      const isDesktop = !isIOS && !isAndroid;
      if (isDesktop) {
        //installHint.textContent = '데스크톱 크롬/엣지: 주소창의 “앱 설치” 아이콘으로 홈 설치가 가능합니다.';
      } else if (isAndroid) {
        installHint.textContent = '안드로이드: 크롬/삼성인터넷에서 “홈 화면에 추가” 또는 “앱 설치” 메뉴를 사용하세요.';
      } else if (isIOS) {
        installHint.textContent = 'iOS 사파리: 공유 버튼 → “홈 화면에 추가”를 사용하세요.';
      }
    }
    setInstallHintByEnv();

    // 서비스 워커 등록
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('./sw.js').catch(() => {});
      });
    }
  </script>
</body>
</html>